<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="586px" preserveAspectRatio="none" style="width:1091px;height:586px;background:#FFFFFF;" version="1.1" viewBox="0 0 1091 586" width="1091px" zoomAndPan="magnify"><defs/><g><rect fill="#FFA500" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="163" x="10" y="273.9648"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="20" y="296.9599">User Virtual Address</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="167" x="223" y="48.7773"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="233" y="71.7724">below PAGE_OFFSET</text><path d="M173,292.1132 L183,292.1132 C198,292.1132 198,66.9257 213,66.9257 L223,66.9257 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="265" x="223" y="105.0741"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245" x="233" y="128.0692">Each process has its own mapping</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="200" x="538" y="20"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="548" y="42.9951">Threads share a mapping</text><path d="M488,123.2226 L498,123.2226 C513,123.2226 513,38.1484 528,38.1484 L538,38.1484 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="256" x="538" y="76.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="548" y="99.292">Complex behavior with</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="66" x="718" y="99.292">clone(2)</text><rect fill="#FFE4B5" height="36.7999" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="84" x="844" y="76.0453"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="64" x="854" y="99.0093">clone(2)</text><path d="M794,94.4453 L804,94.4453 C819,94.4453 819,94.4453 834,94.4453 L844,94.4453 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M488,123.2226 L498,123.2226 C513,123.2226 513,94.4453 528,94.4453 L538,94.4453 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="290" x="538" y="161.4968"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="86" x="548" y="184.4919">struct mm</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="634" y="184.4919">, pointers in</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="94" x="724" y="184.4919">task_struct</text><rect fill="#FFE4B5" height="36.7999" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="92" x="878" y="132.8453"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="72" x="888" y="155.8092">struct mm</text><path d="M828,179.6452 L838,179.6452 C853,179.6452 853,151.2452 868,151.2452 L878,151.2452 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#FFE4B5" height="36.7999" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="164" x="878" y="189.6452"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="144" x="888" y="212.6091">struct task_struct</text><path d="M828,179.6452 L838,179.6452 C853,179.6452 853,208.0452 868,208.0452 L878,208.0452 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M488,123.2226 L498,123.2226 C513,123.2226 513,179.6452 528,179.6452 L538,179.6452 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M173,292.1132 L183,292.1132 C198,292.1132 198,123.2226 213,123.2226 L223,123.2226 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="197" x="223" y="387.1873"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="233" y="410.1824">Make the full use of MMU</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="329" x="470" y="246.4451"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="480" y="269.4402">Only the used portions of RAM are mapped</text><path d="M420,405.3358 L430,405.3358 C445,405.3358 445,264.5936 460,264.5936 L470,264.5936 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="204" x="470" y="302.742"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="480" y="325.7371">Memory is not contiguous</text><path d="M420,405.3358 L430,405.3358 C445,405.3358 445,320.8904 460,320.8904 L470,320.8904 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="231" x="470" y="359.0389"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="480" y="382.034">Memory may be swapped out</text><path d="M420,405.3358 L430,405.3358 C445,405.3358 445,377.1873 460,377.1873 L470,377.1873 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="183" x="470" y="415.3358"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="480" y="438.3309">Memory can be moved</text><path d="M420,405.3358 L430,405.3358 C445,405.3358 445,433.4842 460,433.4842 L470,433.4842 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="352" x="470" y="471.6326"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="332" x="480" y="494.6277">Not suitable for use by the kernel (or for DMA)</text><path d="M420,405.3358 L430,405.3358 C445,405.3358 445,489.7811 460,489.7811 L470,489.7811 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="609" x="470" y="527.9295"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="589" x="480" y="550.9246">At context switch time, the memory map is changed (this is part of the overhead)</text><path d="M420,405.3358 L430,405.3358 C445,405.3358 445,546.0779 460,546.0779 L470,546.0779 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M173,292.1132 L183,292.1132 C198,292.1132 198,405.3358 213,405.3358 L223,405.3358 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[46556d6c3b6d2f01d874025ac4ef81cb]
@startmindmap
+[#orange] User Virtual Address
++ below PAGE_OFFSET
++ Each process has its own mapping
+++ Threads share a mapping
+++ Complex behavior with **clone(2)**
****[#moccasin]:<code>
clone(2)
</code>;
+++ **struct mm**, pointers in **task_struct**
****[#moccasin]:<code>
struct mm
</code>;
****[#moccasin]:<code>
struct task_struct
</code>;
++ Make the full use of MMU
+++ Only the used portions of RAM are mapped
+++ Memory is not contiguous
+++ Memory may be swapped out
+++ Memory can be moved
+++ Not suitable for use by the kernel (or for DMA)
+++ At context switch time, the memory map is changed (this is part of the overhead)
@endmindmap

PlantUML version 1.2022.4beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>