<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1007px" preserveAspectRatio="none" style="width:1572px;height:1007px;background:#FFFFFF;" version="1.1" viewBox="0 0 1572 1007" width="1572px" zoomAndPan="magnify"><defs/><g><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="135" x="10" y="484.4492"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="20" y="507.4443">Virtural Memory</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="389" x="195" y="76.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="369" x="205" y="99.292">Defination: A system that uses an address mapping</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="398" x="634" y="76.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="378" x="644" y="99.292">Maps virtual address space to physical address space</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="114" x="1082" y="20"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1092" y="42.9951">physical RAM</text><path d="M1032,94.4453 L1042,94.4453 C1057,94.4453 1057,38.1484 1072,38.1484 L1082,38.1484 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="144" x="1082" y="76.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1092" y="99.292">hardware devices</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="101" x="1276" y="20"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1286" y="42.9951">PCI devices</text><path d="M1226,94.4453 L1236,94.4453 C1251,94.4453 1251,38.1484 1266,38.1484 L1276,38.1484 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="85" x="1276" y="76.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="1286" y="99.292">GPU RAM</text><path d="M1226,94.4453 L1236,94.4453 C1251,94.4453 1251,94.4453 1266,94.4453 L1276,94.4453 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="142" x="1276" y="132.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1286" y="155.5889">On-SoC IP blocks</text><path d="M1226,94.4453 L1236,94.4453 C1251,94.4453 1251,150.7422 1266,150.7422 L1276,150.7422 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M1032,94.4453 L1042,94.4453 C1057,94.4453 1057,94.4453 1072,94.4453 L1082,94.4453 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M584,94.4453 L594,94.4453 C609,94.4453 609,94.4453 624,94.4453 L634,94.4453 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M145,502.5977 L155,502.5977 C170,502.5977 170,94.4453 185,94.4453 L195,94.4453 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="104" x="195" y="343.707"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="205" y="366.7021">Advantages</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="656" x="349" y="217.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="411" x="359" y="240.0342">Each processes can have a different memory mapping -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="221" x="774" y="240.0342">Built-in memory protection</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="505" x="1055" y="188.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="485" x="1065" y="211.8857">One process's RAM is inaccessible (and invisible) to other processes</text><path d="M1005,235.1875 L1015,235.1875 C1030,235.1875 1030,207.0391 1045,207.0391 L1055,207.0391 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="356" x="1055" y="245.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="336" x="1065" y="268.1826">kernel RAM is invisible to user space processes</text><path d="M1005,235.1875 L1015,235.1875 C1030,235.1875 1030,263.3359 1045,263.3359 L1055,263.3359 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M299,361.8555 L309,361.8555 C324,361.8555 324,235.1875 339,235.1875 L349,235.1875 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="183" x="349" y="273.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="359" y="296.3311">Memory can be moved</text><path d="M299,361.8555 L309,361.8555 C324,361.8555 324,291.4844 339,291.4844 L349,291.4844 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="251" x="349" y="329.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="359" y="352.6279">Memory can be swapped to disk</text><path d="M299,361.8555 L309,361.8555 C324,361.8555 324,347.7813 339,347.7813 L349,347.7813 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="518" x="349" y="385.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="498" x="359" y="408.9248">Map hardware device memory to a process's address space (GPU E.g.)</text><path d="M299,361.8555 L309,361.8555 C324,361.8555 324,404.0781 339,404.0781 L349,404.0781 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="611" x="349" y="442.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="461" x="359" y="465.2217">Physical RAM can be mapped into multiple processes at once -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="126" x="824" y="465.2217">Shared memory</text><path d="M299,361.8555 L309,361.8555 C324,361.8555 324,460.375 339,460.375 L349,460.375 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="462" x="349" y="498.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="442" x="359" y="521.5186">Access permissions for memory regions (read, write, execute)</text><path d="M299,361.8555 L309,361.8555 C324,361.8555 324,516.6719 339,516.6719 L349,516.6719 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M145,502.5977 L155,502.5977 C170,502.5977 170,361.8555 185,361.8555 L195,361.8555 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="161" x="195" y="639.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="205" y="662.2607">Two address spaces</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="301" x="406" y="582.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="416" y="605.9639">Physical addresses (used by</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="76" x="616" y="605.9639">hardware</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="5" x="692" y="605.9639">)</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="53" x="757" y="554.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="767" y="577.8154">DMA</text><path d="M707,601.1172 L717,601.1172 C732,601.1172 732,572.9688 747,572.9688 L757,572.9688 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="102" x="757" y="611.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="767" y="634.1123">peripherals</text><path d="M707,601.1172 L717,601.1172 C732,601.1172 732,629.2656 747,629.2656 L757,629.2656 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M356,657.4141 L366,657.4141 C381,657.4141 381,601.1172 396,601.1172 L406,601.1172 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="288" x="406" y="695.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="416" y="718.5576">Virtual addresses (used by</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="73" x="606" y="718.5576">software</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="5" x="679" y="718.5576">)</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="229" x="744" y="667.4141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="754" y="690.4092">load/store instructions (RISC)</text><path d="M694,713.7109 L704,713.7109 C719,713.7109 719,685.5625 734,685.5625 L744,685.5625 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="313" x="744" y="723.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="293" x="754" y="746.7061">Any instruction accessing memory (CISC)</text><path d="M694,713.7109 L704,713.7109 C719,713.7109 719,741.8594 734,741.8594 L744,741.8594 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M356,657.4141 L366,657.4141 C381,657.4141 381,713.7109 396,713.7109 L406,713.7109 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M145,502.5977 L155,502.5977 C170,502.5977 170,657.4141 185,657.4141 L195,657.4141 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="330" x="195" y="864.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="267" x="205" y="887.4482">Mapping is performed in hardware -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="39" x="476" y="887.4482">MMU</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="523" x="575" y="780.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="503" x="585" y="803.0029">No performance penalty for accessing *already-mapped* RAM regions</text><path d="M525,882.6016 L535,882.6016 C550,882.6016 550,798.1563 565,798.1563 L575,798.1563 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="311" x="575" y="836.3047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="291" x="585" y="859.2998">Permissions are handled without penalty</text><path d="M525,882.6016 L535,882.6016 C550,882.6016 550,854.4531 565,854.4531 L575,854.4531 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="572" x="575" y="892.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="552" x="585" y="915.5967">The same CPU instructions are used for accessing RAM and mapped hardware</text><path d="M525,882.6016 L535,882.6016 C550,882.6016 550,910.75 565,910.75 L575,910.75 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="925" x="575" y="948.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="905" x="585" y="971.8936">Software, during its normal operation, will only use virtual addressed. (include kernel and user space, this is not true of all OS's)</text><path d="M525,882.6016 L535,882.6016 C550,882.6016 550,967.0469 565,967.0469 L575,967.0469 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M145,502.5977 L155,502.5977 C170,502.5977 170,882.6016 185,882.6016 L195,882.6016 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[46fe4749c89a372b2600bc045d336c3e]
@startmindmap
+ Virtural Memory
++ Defination: A system that uses an address mapping
+++ Maps virtual address space to physical address space
++++ physical RAM
++++ hardware devices
+++++ PCI devices
+++++ GPU RAM
+++++ On-SoC IP blocks
++ Advantages
+++ Each processes can have a different memory mapping -> **Built-in memory protection**
++++ One process's RAM is inaccessible (and invisible) to other processes
++++ kernel RAM is invisible to user space processes
+++ Memory can be moved
+++ Memory can be swapped to disk
+++ Map hardware device memory to a process's address space (GPU E.g.)
+++ Physical RAM can be mapped into multiple processes at once -> **Shared memory**
+++ Access permissions for memory regions (read, write, execute)
++ Two address spaces
+++ Physical addresses (used by **hardware**)
++++ DMA
++++ peripherals
+++ Virtual addresses (used by **software**)
++++ load/store instructions (RISC)
++++ Any instruction accessing memory (CISC)
++ Mapping is performed in hardware -> **MMU**
+++ No performance penalty for accessing *already-mapped* RAM regions
+++ Permissions are handled without penalty
+++ The same CPU instructions are used for accessing RAM and mapped hardware
+++ Software, during its normal operation, will only use virtual addressed. (include kernel and user space, this is not true of all OS's)
@endmindmap

PlantUML version 1.2022.4beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>